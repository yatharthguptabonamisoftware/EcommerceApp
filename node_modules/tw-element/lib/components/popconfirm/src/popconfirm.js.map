{"version":3,"file":"popconfirm.js","sources":["../../../../../../packages/components/popconfirm/src/popconfirm.vue"],"sourcesContent":["<template>\n  <el-tooltip\n    ref=\"tooltipRef\"\n    v-bind=\"$attrs\"\n    trigger=\"click\"\n    effect=\"light\"\n    :popper-class=\"`${ns.namespace.value}-popover`\"\n    :teleported=\"compatTeleported\"\n    :fallback-placements=\"['bottom', 'top', 'right', 'left']\"\n    :hide-after=\"hideAfter\"\n    persistent\n  >\n    <template #content>\n      <div :class=\"ns.b()\">\n        <div :class=\"ns.e('main')\">\n          <el-icon\n            v-if=\"!hideIcon && icon\"\n            :class=\"ns.e('icon')\"\n            :style=\"{ color: iconColor }\"\n          >\n            <component :is=\"icon\" />\n          </el-icon>\n          {{ title }}\n        </div>\n        <div :class=\"ns.e('action')\">\n          <el-button size=\"small\" :type=\"cancTwButtonType\" @click=\"cancel\">\n            {{ finalCancTwButtonText }}\n          </el-button>\n          <el-button size=\"small\" :type=\"confirmButtonType\" @click=\"confirm\">\n            {{ finalConfirmButtonText }}\n          </el-button>\n        </div>\n      </div>\n    </template>\n    <template v-if=\"$slots.reference\">\n      <slot name=\"reference\" />\n    </template>\n  </el-tooltip>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, unref } from 'vue'\nimport TwButton from '@tw-element/components/button'\nimport TwIcon from '@tw-element/components/icon'\nimport ElTooltip from '@tw-element/components/tooltip'\nimport { useDeprecateAppendToBody } from '@tw-element/components/popper'\nimport { useLocale, useNamespace } from '@tw-element/hooks'\nimport { popconfirmProps } from './popconfirm'\n\nconst COMPONENT_NAME = 'TwPopconfirm'\nexport default defineComponent({\n  name: COMPONENT_NAME,\n\n  components: {\n    TwButton,\n    ElTooltip,\n    TwIcon,\n  },\n\n  props: popconfirmProps,\n\n  setup(props) {\n    const { compatTeleported } = useDeprecateAppendToBody(\n      COMPONENT_NAME,\n      'appendToBody'\n    )\n    const { t } = useLocale()\n    const ns = useNamespace('popconfirm')\n    const tooltipRef = ref<{ onClose: () => void }>()\n\n    const hidePopper = () => {\n      unref(tooltipRef)?.onClose?.()\n    }\n\n    const handleCallback = () => {\n      hidePopper()\n    }\n\n    const confirm = (e: Event) => {\n      props.onConfirm?.(e)\n      handleCallback()\n    }\n    const cancel = (e: Event) => {\n      props.onCancel?.(e)\n      handleCallback()\n    }\n\n    const finalConfirmButtonText = computed(\n      () => props.confirmButtonText || t('el.popconfirm.confirmButtonText')\n    )\n    const finalCancTwButtonText = computed(\n      () => props.cancTwButtonText || t('el.popconfirm.cancTwButtonText')\n    )\n\n    return {\n      finalConfirmButtonText,\n      finalCancTwButtonText,\n      tooltipRef,\n      ns,\n\n      // Deprecation in 2.1.0\n      compatTeleported,\n\n      confirm,\n      cancel,\n    }\n  },\n})\n</script>\n"],"names":["defineComponent","TwButton","ElTooltip","TwIcon","popconfirmProps","useDeprecateAppendToBody","useLocale","useNamespace","ref","_normalizeClass"],"mappings":";;;;;;;;;;;;;;;;AAiDA,MAAM,iBAAiB;AACvB,MAAK,YAAaA,oBAAa;AAAA,EAC7B,MAAM;AAAA,EAEN,YAAY;AAAA,cACVC;AAAA,eACAC;AAAA,YACAC;AAAA;AAAA,EAGF,OAAOC;AAAA,EAEP,MAAM,OAAO;AACX,UAAM,EAAE,qBAAqBC,qCAC3B,gBACA;AAEF,UAAM,EAAE,MAAMC;AACd,UAAM,KAAKC,qBAAa;AACxB,UAAM,aAAaC;AAEnB,UAAM,aAAa,MAAM;AACvB,YAAM;AAAa;AAGrB;AACE;AAAA;AAGF;AACE;AACA;AAAA;AAEF,oBAAgB;AACd;AACA;AAAA;AAGF,mCAA+B,SAC7B,MAAM;AAER;AAIA;AAAO;AACL;AACA;AACA,MACA;AAAA,MAGA;AAAA,MAEA;AAAA,MACA;AAAA;AAAA;AAAA;;;;;;AApGa;AACR;AACN;AAC4B,IAC5B;AAAA,IACA;AAAqB,IACtB,cAAU;AAAA;;AAEC;AAoBH;AAnBO;;AACX;AAAa;;+BACX;iBAEQC;AAAA;AACW;;;AAEjB;;;;AAEF;;AAEF,mCAAa;AAAA;WACX;AAAA;AAAuB;AAAQ;AAA0B;;;;;;;AAK7C;AAFW,YAAE;AAAM,uBAA2B;AAAA;;;;;;;;;;aAMhD;AAAgB,WAC9B;;;;;;;;;;;;"}