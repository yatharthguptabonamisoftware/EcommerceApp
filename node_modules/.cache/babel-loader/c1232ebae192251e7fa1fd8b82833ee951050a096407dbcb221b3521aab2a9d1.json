{"ast":null,"code":"import { computed } from 'vue';\nconst useComputedData = props => {\n  const propsKey = computed(() => props.props.key);\n  const dataObj = computed(() => {\n    return props.data.reduce((o, cur) => (o[cur[propsKey.value]] = cur) && o, {});\n  });\n  const sourceData = computed(() => {\n    return props.data.filter(item => !props.modelValue.includes(item[propsKey.value]));\n  });\n  const targetData = computed(() => {\n    if (props.targetOrder === \"original\") {\n      return props.data.filter(item => props.modelValue.includes(item[propsKey.value]));\n    } else {\n      return props.modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur];\n        if (val) {\n          arr.push(val);\n        }\n        return arr;\n      }, []);\n    }\n  });\n  return {\n    propsKey,\n    sourceData,\n    targetData\n  };\n};\nexport { useComputedData };","map":{"version":3,"names":["useComputedData","props","propsKey","computed","key","dataObj","data","reduce","o","cur","value","sourceData","filter","item","modelValue","includes","targetData","targetOrder","arr","val","push"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/transfer/src/useComputedData.ts"],"sourcesContent":["import { computed } from 'vue'\n\nimport type { TransferProps } from './transfer'\n\nexport const useComputedData = (props: TransferProps) => {\n  const propsKey = computed(() => props.props.key)\n\n  const dataObj = computed(() => {\n    return props.data.reduce(\n      (o, cur) => (o[cur[propsKey.value]] = cur) && o,\n      {}\n    )\n  })\n\n  const sourceData = computed(() => {\n    return props.data.filter(\n      (item) => !props.modelValue.includes(item[propsKey.value])\n    )\n  })\n\n  const targetData = computed(() => {\n    if (props.targetOrder === 'original') {\n      return props.data.filter((item) =>\n        props.modelValue.includes(item[propsKey.value])\n      )\n    } else {\n      return props.modelValue.reduce((arr, cur) => {\n        const val = dataObj.value[cur]\n        if (val) {\n          arr.push(val)\n        }\n        return arr\n      }, [])\n    }\n  })\n\n  return {\n    propsKey,\n    sourceData,\n    targetData,\n  }\n}\n"],"mappings":";AACY,MAACA,eAAe,GAAIC,KAAK,IAAK;EACxC,MAAMC,QAAQ,GAAGC,QAAQ,CAAC,MAAMF,KAAK,CAACA,KAAK,CAACG,GAAG,CAAC;EAChD,MAAMC,OAAO,GAAGF,QAAQ,CAAC,MAAM;IAC7B,OAAOF,KAAK,CAACK,IAAI,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAK,CAACD,CAAC,CAACC,GAAG,CAACP,QAAQ,CAACQ,KAAK,CAAC,CAAC,GAAGD,GAAG,KAAKD,CAAC,EAAE,EAAE,CAAC;EACjF,CAAG,CAAC;EACF,MAAMG,UAAU,GAAGR,QAAQ,CAAC,MAAM;IAChC,OAAOF,KAAK,CAACK,IAAI,CAACM,MAAM,CAAEC,IAAI,IAAK,CAACZ,KAAK,CAACa,UAAU,CAACC,QAAQ,CAACF,IAAI,CAACX,QAAQ,CAACQ,KAAK,CAAC,CAAC,CAAC;EACxF,CAAG,CAAC;EACF,MAAMM,UAAU,GAAGb,QAAQ,CAAC,MAAM;IAChC,IAAIF,KAAK,CAACgB,WAAW,KAAK,UAAU,EAAE;MACpC,OAAOhB,KAAK,CAACK,IAAI,CAACM,MAAM,CAAEC,IAAI,IAAKZ,KAAK,CAACa,UAAU,CAACC,QAAQ,CAACF,IAAI,CAACX,QAAQ,CAACQ,KAAK,CAAC,CAAC,CAAC;IACzF,CAAK,MAAM;MACL,OAAOT,KAAK,CAACa,UAAU,CAACP,MAAM,CAAC,CAACW,GAAG,EAAET,GAAG,KAAK;QAC3C,MAAMU,GAAG,GAAGd,OAAO,CAACK,KAAK,CAACD,GAAG,CAAC;QAC9B,IAAIU,GAAG,EAAE;UACPD,GAAG,CAACE,IAAI,CAACD,GAAG,CAAC;QACvB;QACQ,OAAOD,GAAG;MAClB,CAAO,EAAE,EAAE,CAAC;IACZ;EACA,CAAG,CAAC;EACF,OAAO;IACLhB,QAAQ;IACRS,UAAU;IACVK;EACJ,CAAG;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}