{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: [],\n  reducers: {\n    add(state, action) {\n      state.push(action.payload);\n    },\n    remove(state, action) {\n      // console.log(state);\n\n      return state.filter(item => item.id !== action.payload);\n    },\n    update(state, action) {\n      const final = state;\n      let productToBefound = final.filter(el => el.id === action.payload.id);\n      // console.log(productToBefound[0]?.price, action.payload)\n      let finalstate = final.map(item => {\n        var _productToBefound$;\n        return item.id === action.payload.id ? {\n          ...item,\n          price: item.price + ((_productToBefound$ = productToBefound[0]) === null || _productToBefound$ === void 0 ? void 0 : _productToBefound$.price) / action.payload.inputVal\n        } : item;\n      });\n\n      // finalstate.inputVal = action.payload.inputVal;\n      // console.log(finalstate);\n      return finalstate;\n    }\n  }\n});\nexport const {\n  add,\n  remove,\n  update\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","reducers","add","state","action","push","payload","remove","filter","item","id","update","final","productToBefound","el","finalstate","map","_productToBefound$","price","inputVal","actions","reducer"],"sources":["/home/bonami/Desktop/Projects/ECommerce/src/rtkdemo/features/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: [],\n  reducers: {\n    add(state, action) {\n      state.push(action.payload);\n    },\n    remove(state, action) {\n      // console.log(state);\n\n      return state.filter((item) => item.id !== action.payload);\n    },\n    update(state, action) {\n        const final = state;\n      let productToBefound  =  final.filter(el => el.id === action.payload.id);  \n      // console.log(productToBefound[0]?.price, action.payload)\n      let finalstate = final.map((item) =>\n        item.id === action.payload.id\n          ? {\n              ...item,\n              price : item.price + (productToBefound[0]?.price)/action.payload.inputVal,\n            }\n          : item\n      );\n\n      // finalstate.inputVal = action.payload.inputVal;\n      // console.log(finalstate);\n      return finalstate;\n    },\n  },\n});\nexport const { add, remove, update } = cartSlice.actions;\nexport default cartSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAAGD,WAAW,CAAC;EAC5BE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE;IACRC,GAAGA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACjBD,KAAK,CAACE,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IAC5B,CAAC;IACDC,MAAMA,CAACJ,KAAK,EAAEC,MAAM,EAAE;MACpB;;MAEA,OAAOD,KAAK,CAACK,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAAC;IAC3D,CAAC;IACDK,MAAMA,CAACR,KAAK,EAAEC,MAAM,EAAE;MAClB,MAAMQ,KAAK,GAAGT,KAAK;MACrB,IAAIU,gBAAgB,GAAKD,KAAK,CAACJ,MAAM,CAACM,EAAE,IAAIA,EAAE,CAACJ,EAAE,KAAKN,MAAM,CAACE,OAAO,CAACI,EAAE,CAAC;MACxE;MACA,IAAIK,UAAU,GAAGH,KAAK,CAACI,GAAG,CAAEP,IAAI;QAAA,IAAAQ,kBAAA;QAAA,OAC9BR,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAACI,EAAE,GACzB;UACE,GAAGD,IAAI;UACPS,KAAK,EAAGT,IAAI,CAACS,KAAK,GAAG,EAAAD,kBAAA,GAACJ,gBAAgB,CAAC,CAAC,CAAC,cAAAI,kBAAA,uBAAnBA,kBAAA,CAAqBC,KAAK,IAAEd,MAAM,CAACE,OAAO,CAACa;QACnE,CAAC,GACDV,IAAI;MAAA,CACV,CAAC;;MAED;MACA;MACA,OAAOM,UAAU;IACnB;EACF;AACF,CAAC,CAAC;AACF,OAAO,MAAM;EAAEb,GAAG;EAAEK,MAAM;EAAEI;AAAO,CAAC,GAAGb,SAAS,CAACsB,OAAO;AACxD,eAAetB,SAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}