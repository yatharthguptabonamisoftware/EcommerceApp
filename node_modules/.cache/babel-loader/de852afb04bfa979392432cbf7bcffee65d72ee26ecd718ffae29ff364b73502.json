{"ast":null,"code":"import { ref, watch } from 'vue';\nconst makeList = (total, method, methodFunc) => {\n  const arr = [];\n  const disabledArr = method && methodFunc();\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false;\n  }\n  return arr;\n};\nconst makeAvailableArr = list => {\n  return list.map((_, index) => !_ ? index : _).filter(_ => _ !== true);\n};\nconst getTimeLists = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const getHoursList = (role, compare) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare));\n  };\n  const getMinutesList = (hour, role, compare) => {\n    return makeList(60, disabledMinutes, () => disabledMinutes(hour, role, compare));\n  };\n  const getSecondsList = (hour, minute, role, compare) => {\n    return makeList(60, disabledSeconds, () => disabledSeconds(hour, minute, role, compare));\n  };\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  };\n};\nconst getAvailableArrs = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  } = getTimeLists(disabledHours, disabledMinutes, disabledSeconds);\n  const getAvailableHours = (role, compare) => {\n    return makeAvailableArr(getHoursList(role, compare));\n  };\n  const getAvailableMinutes = (hour, role, compare) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare));\n  };\n  const getAvailableSeconds = (hour, minute, role, compare) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare));\n  };\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds\n  };\n};\nconst useOldValue = props => {\n  const oldValue = ref(props.parsedValue);\n  watch(() => props.visible, val => {\n    if (!val) {\n      oldValue.value = props.parsedValue;\n    }\n  });\n  return oldValue;\n};\nexport { getAvailableArrs, getTimeLists, useOldValue };","map":{"version":3,"names":["makeList","total","method","methodFunc","arr","disabledArr","i","includes","makeAvailableArr","list","map","_","index","filter","getTimeLists","disabledHours","disabledMinutes","disabledSeconds","getHoursList","role","compare","getMinutesList","hour","getSecondsList","minute","getAvailableArrs","getAvailableHours","getAvailableMinutes","getAvailableSeconds","useOldValue","props","oldValue","ref","parsedValue","watch","visible","val","value"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/time-picker/src/time-picker-com/useTimePicker.ts"],"sourcesContent":["import { ref, watch } from 'vue'\n\nimport type { Dayjs } from 'dayjs'\n\nconst makeList = (total, method, methodFunc) => {\n  const arr = []\n  const disabledArr = method && methodFunc()\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false\n  }\n  return arr\n}\n\nconst makeAvailableArr = (list) => {\n  return list.map((_, index) => (!_ ? index : _)).filter((_) => _ !== true)\n}\n\nexport const getTimeLists = (\n  disabledHours,\n  disabledMinutes,\n  disabledSeconds\n) => {\n  const getHoursList = (role, compare?) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare))\n  }\n\n  const getMinutesList = (hour, role, compare?) => {\n    return makeList(60, disabledMinutes, () =>\n      disabledMinutes(hour, role, compare)\n    )\n  }\n\n  const getSecondsList = (hour, minute, role, compare?) => {\n    return makeList(60, disabledSeconds, () =>\n      disabledSeconds(hour, minute, role, compare)\n    )\n  }\n\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList,\n  }\n}\n\nexport const getAvailableArrs = (\n  disabledHours,\n  disabledMinutes,\n  disabledSeconds\n) => {\n  const { getHoursList, getMinutesList, getSecondsList } = getTimeLists(\n    disabledHours,\n    disabledMinutes,\n    disabledSeconds\n  )\n\n  const getAvailableHours = (role, compare?) => {\n    return makeAvailableArr(getHoursList(role, compare))\n  }\n\n  const getAvailableMinutes = (hour, role, compare?) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare))\n  }\n\n  const getAvailableSeconds = (hour, minute, role, compare?) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare))\n  }\n\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds,\n  }\n}\n\nexport const useOldValue = (props: {\n  parsedValue?: string | Dayjs | Dayjs[]\n  visible: boolean\n}) => {\n  const oldValue = ref(props.parsedValue)\n\n  watch(\n    () => props.visible,\n    (val) => {\n      if (!val) {\n        oldValue.value = props.parsedValue\n      }\n    }\n  )\n\n  return oldValue\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}