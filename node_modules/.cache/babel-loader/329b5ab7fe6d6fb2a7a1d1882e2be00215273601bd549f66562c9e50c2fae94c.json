{"ast":null,"code":"import { defineComponent, inject, ref, computed, resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, withKeys, withModifiers, renderSlot, createTextVNode, toDisplayString, createVNode, withCtx, withDirectives, vShow } from 'vue';\nimport '../../../utils/index.mjs';\nimport _CollapseTransition from '../../collapse-transition/index.mjs';\nimport { TwIcon } from '../../icon/index.mjs';\nimport { ArrowRight } from '@element-plus/icons-vue';\nimport '../../../hooks/index.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { generateId } from '../../../utils/rand.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  name: \"TwCollapseItem\",\n  components: {\n    TwCollapseTransition: _CollapseTransition,\n    TwIcon,\n    ArrowRight\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    name: {\n      type: [String, Number],\n      default: () => {\n        return generateId();\n      }\n    },\n    disabled: Boolean\n  },\n  setup(props) {\n    const collapse = inject(\"collapse\");\n    const ns = useNamespace(\"collapse\");\n    const contentWrapStyle = ref({\n      height: \"auto\",\n      display: \"block\"\n    });\n    const contentHeight = ref(0);\n    const focusing = ref(false);\n    const isClick = ref(false);\n    const id = ref(generateId());\n    const isActive = computed(() => {\n      return (collapse == null ? void 0 : collapse.activeNames.value.indexOf(props.name)) > -1;\n    });\n    const handleFocus = () => {\n      setTimeout(() => {\n        if (!isClick.value) {\n          focusing.value = true;\n        } else {\n          isClick.value = false;\n        }\n      }, 50);\n    };\n    const handleHeaderClick = () => {\n      if (props.disabled) return;\n      collapse == null ? void 0 : collapse.handleItemClick(props.name);\n      focusing.value = false;\n      isClick.value = true;\n    };\n    const handleEnterClick = () => {\n      collapse == null ? void 0 : collapse.handleItemClick(props.name);\n    };\n    return {\n      isActive,\n      contentWrapStyle,\n      contentHeight,\n      focusing,\n      isClick,\n      id,\n      ns,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick,\n      collapse\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-expanded\", \"aria-controls\", \"aria-describedby\"];\nconst _hoisted_2 = [\"id\", \"tabindex\"];\nconst _hoisted_3 = [\"id\", \"aria-hidden\", \"aria-labelledby\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_arrow_right = resolveComponent(\"arrow-right\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_collapse_transition = resolveComponent(\"el-collapse-transition\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([_ctx.ns.b(\"item\"), _ctx.ns.is(\"active\", _ctx.isActive), _ctx.ns.is(\"disabled\", _ctx.disabled)])\n  }, [createElementVNode(\"div\", {\n    role: \"tab\",\n    \"aria-expanded\": _ctx.isActive,\n    \"aria-controls\": _ctx.ns.b(`content-${_ctx.id}`),\n    \"aria-describedby\": _ctx.ns.b(`content-${_ctx.id}`)\n  }, [createElementVNode(\"div\", {\n    id: _ctx.ns.b(`head-${_ctx.id}`),\n    class: normalizeClass([_ctx.ns.be(\"item\", \"header\"), _ctx.ns.is(\"active\", _ctx.isActive), {\n      focusing: _ctx.focusing\n    }]),\n    role: \"button\",\n    tabindex: _ctx.disabled ? -1 : 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleHeaderClick && _ctx.handleHeaderClick(...args)),\n    onKeyup: _cache[1] || (_cache[1] = withKeys(withModifiers((...args) => _ctx.handleEnterClick && _ctx.handleEnterClick(...args), [\"stop\"]), [\"space\", \"enter\"])),\n    onFocus: _cache[2] || (_cache[2] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n    onBlur: _cache[3] || (_cache[3] = $event => _ctx.focusing = false)\n  }, [renderSlot(_ctx.$slots, \"title\", {}, () => [createTextVNode(toDisplayString(_ctx.title), 1)]), createVNode(_component_el_icon, {\n    class: normalizeClass([_ctx.ns.be(\"item\", \"arrow\"), _ctx.ns.is(\"active\", _ctx.isActive)])\n  }, {\n    default: withCtx(() => [createVNode(_component_arrow_right)]),\n    _: 1\n  }, 8, [\"class\"])], 42, _hoisted_2)], 8, _hoisted_1), createVNode(_component_el_collapse_transition, null, {\n    default: withCtx(() => [withDirectives(createElementVNode(\"div\", {\n      id: _ctx.ns.b(`content-${_ctx.id}`),\n      class: normalizeClass(_ctx.ns.be(\"item\", \"wrap\")),\n      role: \"tabpanel\",\n      \"aria-hidden\": !_ctx.isActive,\n      \"aria-labelledby\": _ctx.ns.b(`head-${_ctx.id}`)\n    }, [createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.ns.be(\"item\", \"content\"))\n    }, [renderSlot(_ctx.$slots, \"default\")], 2)], 10, _hoisted_3), [[vShow, _ctx.isActive]])]),\n    _: 3\n  })], 2);\n}\nvar CollapseItem = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { CollapseItem as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","TwCollapseTransition","_CollapseTransition","TwIcon","ArrowRight","props","title","type","String","default","Number","generateId","disabled","Boolean","setup","collapse","inject","ns","useNamespace","contentWrapStyle","ref","height","display","contentHeight","focusing","isClick","id","isActive","computed","activeNames","value","indexOf","handleFocus","setTimeout","handleHeaderClick","handleItemClick","handleEnterClick","openBlock","createElementBlock","class","normalizeClass","_ctx","b","is","createElementVNode","role","be","tabindex","onClick","_cache","args","onKeyup","withKeys","withModifiers","onFocus","onBlur","$event","renderSlot","$slots","createTextVNode","toDisplayString","_component_el_icon","withCtx","createVNode","_component_arrow_right","_hoisted_1","_component_el_collapse_transition","withDirectives","_hoisted_3","vShow"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/collapse/src/collapse-item.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      ns.b('item'),\n      ns.is('active', isActive),\n      ns.is('disabled', disabled),\n    ]\"\n  >\n    <div\n      role=\"tab\"\n      :aria-expanded=\"isActive\"\n      :aria-controls=\"ns.b(`content-${id}`)\"\n      :aria-describedby=\"ns.b(`content-${id}`)\"\n    >\n      <div\n        :id=\"ns.b(`head-${id}`)\"\n        :class=\"[\n          ns.be('item', 'header'),\n          ns.is('active', isActive),\n          { focusing },\n        ]\"\n        role=\"button\"\n        :tabindex=\"disabled ? -1 : 0\"\n        @click=\"handleHeaderClick\"\n        @keyup.space.enter.stop=\"handleEnterClick\"\n        @focus=\"handleFocus\"\n        @blur=\"focusing = false\"\n      >\n        <slot name=\"title\">{{ title }}</slot>\n        <el-icon :class=\"[ns.be('item', 'arrow'), ns.is('active', isActive)]\">\n          <arrow-right />\n        </el-icon>\n      </div>\n    </div>\n    <el-collapse-transition>\n      <div\n        v-show=\"isActive\"\n        :id=\"ns.b(`content-${id}`)\"\n        :class=\"ns.be('item', 'wrap')\"\n        role=\"tabpanel\"\n        :aria-hidden=\"!isActive\"\n        :aria-labelledby=\"ns.b(`head-${id}`)\"\n      >\n        <div :class=\"ns.be('item', 'content')\">\n          <slot></slot>\n        </div>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, ref } from 'vue'\nimport { generateId } from '@tw-element/utils'\nimport TwCollapseTransition from '@tw-element/components/collapse-transition'\nimport TwIcon from '@tw-element/components/icon'\nimport { ArrowRight } from '@element-plus/icons-vue'\nimport { useNamespace } from '@tw-element/hooks'\n\nimport type { PropType } from 'vue'\nimport type { CollapseProvider } from './collapse.type'\n\nexport default defineComponent({\n  name: 'TwCollapseItem',\n  components: { TwCollapseTransition, TwIcon, ArrowRight },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    name: {\n      type: [String, Number] as PropType<string | number>,\n      default: () => {\n        return generateId()\n      },\n    },\n    disabled: Boolean,\n  },\n  setup(props) {\n    const collapse = inject<CollapseProvider>('collapse')\n    const ns = useNamespace('collapse')\n\n    const contentWrapStyle = ref({\n      height: 'auto',\n      display: 'block',\n    })\n    const contentHeight = ref(0)\n    const focusing = ref(false)\n    const isClick = ref(false)\n    const id = ref(generateId())\n\n    const isActive = computed(() => {\n      return collapse?.activeNames.value.indexOf(props.name) > -1\n    })\n\n    const handleFocus = () => {\n      setTimeout(() => {\n        if (!isClick.value) {\n          focusing.value = true\n        } else {\n          isClick.value = false\n        }\n      }, 50)\n    }\n\n    const handleHeaderClick = () => {\n      if (props.disabled) return\n      collapse?.handleItemClick(props.name)\n      focusing.value = false\n      isClick.value = true\n    }\n\n    const handleEnterClick = () => {\n      collapse?.handleItemClick(props.name)\n    }\n\n    return {\n      isActive,\n      contentWrapStyle,\n      contentHeight,\n      focusing,\n      isClick,\n      id,\n      ns,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick,\n      collapse,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;;;;AA6DA,MAAKA,SAAA,GAAaC,eAAA,CAAa;EAC7BC,IAAA,EAAM;EACNC,UAAA,EAAY;IAAAC,oBAAA,EAAEC,mBAAA;IAAsBC,MAAA;IAAQC;EAAA;EAC5CC,KAAA,EAAO;IACLC,KAAA,EAAO;MACLC,IAAA,EAAMC,MAAA;MACNC,OAAA,EAAS;IAAA;IAEXV,IAAA,EAAM;MACJQ,IAAA,EAAM,CAACC,MAAA,EAAQE,MAAA;MACfD,OAAA,EAASA,CAAA,KAAM;QACb,OAAOE,UAAA;MAAA;IAAA;IAGXC,QAAA,EAAUC;EAAA;EAEZC,MAAMT,KAAA,EAAO;IACX,MAAMU,QAAA,GAAWC,MAAA,CAAyB;IAC1C,MAAMC,EAAA,GAAKC,YAAA,CAAa;IAExB,MAAMC,gBAAA,GAAmBC,GAAA,CAAI;MAC3BC,MAAA,EAAQ;MACRC,OAAA,EAAS;IAAA;IAEX,MAAMC,aAAA,GAAgBH,GAAA,CAAI;IAC1B,MAAMI,QAAA,GAAWJ,GAAA,CAAI;IACrB,MAAMK,OAAA,GAAUL,GAAA,CAAI;IACpB,MAAMM,EAAA,GAAKN,GAAA,CAAIT,UAAA;IAEf,MAAMgB,QAAA,GAAWC,QAAA,CAAS,MAAM;MAC9B,OAAO,CAAAb,QAAA,oBAAAA,QAAA,CAAAc,WAAA,CAAkDC,KAAA,CAAAC,OAAA,CAAA1B,KAAA,CAAAN,IAAA;IAAA;IAG3D,MAAMiC,WAAA,GAAcA,CAAA,KAAM;MACxBC,UAAA,CAAW,MAAM;QACf,IAAI,CAACR,OAAA,CAAQK,KAAA,EAAO;UAClBN,QAAA,CAASM,KAAA,GAAQ;QAAA,OACZ;UACLL,OAAA,CAAQK,KAAA,GAAQ;QAAA;MAAA,GAEjB;IAAA;IAGL,MAAMI,iBAAA,GAAoBA,CAAA,KAAM;MAC9B,IAAI7B,KAAA,CAAMO,QAAA,EAAU;MACpBG,QAAA,oBAAAA,QAAA,CAAAoB,eAAA,CAAA9B,KAAA,CAAAN,IAAA;MACAyB,QAAA,CAASM,KAAA,GAAQ;MACjBL,OAAA,CAAQK,KAAA,GAAQ;IAAA;IAGlB,MAAMM,gBAAA,GAAmBA,CAAA,KAAM;MAC7BrB,QAAA,oBAAAA,QAAA,CAAAoB,eAAA,CAAA9B,KAAA,CAAAN,IAAA;IAAgC;IAGlC,OAAO;MACL4B,QAAA;MACAR,gBAAA;MACAI,aAAA;MACAC,QAAA;MACAC,OAAA;MACAC,EAAA;MACAT,EAAA;MACAe,WAAA;MACAE,iBAAA;MACAE,gBAAA;MACArB;IAAA;EAAA;AAAA;;;;;;;;SA5HIsB,SAAA,IAAAC,kBAAA;IAAAC,KAAA,EAAUC,cAAA,CAAI,CAAgBC,IAAA,CAAAxB,EAAA,CAAGyB,CAAA,CAAE,SAA4BD,IAAA,CAAAxB,EAAA,CAAG0B,EAAA,CAAE,UAAAF,IAAA,CAAad,QAAA,GAAAc,IAAA,CAAAxB,EAAA,CAAA0B,EAAA,aAAAF,IAAA,CAAA7B,QAAA,E;KAMvF,CAAAgC,kBAAA,CACY;IACTC,IAAA;IACA,iBAAeJ,IAAA,CAAAd,QAAA;IACf,iBAAAc,IAAA,CAAkBxB,EAAA,CAAAyB,CAAA,CAAE,WAAED,IAAA,CAAYf,EAAA;IAAA,oBAAAe,IAAA,CAAAxB,EAAA,CAAAyB,CAAA,YAAAD,IAAA,CAAAf,EAAA;KAEnC,CAAAkB,kBAAA,CACW,OAAS;IACjBlB,EAAA,EAAAe,IAAA,CAAKxB,EAAA,CAAAyB,CAAA,SAAAD,IAAA,CAAAf,EAAA;IAAAa,KAAA,EAAcC,cAAA,CAAK,CAA8BC,IAAA,CAAAxB,EAAA,CAAG6B,EAAA,CAAE,mBAAAL,IAAA,CAAAxB,EAAA,CAAA0B,EAAA,WAAkCF,IAAA,CAAQd,QAAA;MAAAH,QAAA,EAAAiB,IAAA,CAAAjB;IAAA,E;IAMrGqB,IAAA;IACAE,QAAA,EAAKN,IAAA,CAAA7B,QAAA;IACLoC,OAAA,EAAKC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAAT,IAAA,CAAAP,iBAAA,IAAmBO,IAAA,CAAAP,iBAAA,IAAAgB,IAAA;IACxBC,OAAA,EAAKF,MAAA,QAAAA,MAAA,MAAAG,QAAA,CAAAC,aAAA,CAAE,IAAAH,IAAA,KAAAT,IAAA,CAAAL,gBAAA,IAAWK,IAAA,CAAAL,gBAAA,IAAAc,IAAA;IAClBI,OAAA,EAAIL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAET,IAAA,CAAAT,WAAA,IAAQS,IAAA,CAAAT,WAAA,IAAAkB,IAAA;IAAAK,MAAA,EAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAAAf,IAAA,CAAAjB,QAAA;KAEf,CAAAiC,UAAA,CAAAhB,IAAA,CAAAiB,MAAA,eAAsB,OAAAC,eAAA,CAAAC,eAAA,CAAAnB,IAAA,CAAAnC,KAAA,M,eACPuD,kBAAA,EAAK;IAAAtB,KAAA,EAAAC,cAAA,EAAAC,IAAA,CAAAxB,EAAA,CAAA6B,EAAA,mBAAAL,IAAA,CAAAxB,EAAA,CAAA0B,EAAA,WAAAF,IAAA,CAAAd,QAAA;;aAClBmC,OAAA,CAAe,OAAAC,WAAA,CAAAC,sBAAA,E;;uCAIrB,GAayBC,UAAA,GAAAF,WAAA,CAAAG,iCAAA,EADjB;IAAAzD,OAAA,EAAAqD,OAAA,CAXN,OAAAK,cAAA,CAEWvB,kBAAA,CAAc;MACtBlB,EAAA,EAAAe,IAAA,CAAKxB,EAAA,CAAAyB,CAAA,YAAED,IAAA,CAAEf,EAAA;MACVa,KAAA,EAAKC,cAAA,CAAUC,IAAA,CAAAxB,EAAA,CAAA6B,EAAA;MACdD,IAAA;MACA,gBAAAJ,IAAA,CAAiBd,QAAA;MAAA,mBAAAc,IAAA,CAAAxB,EAAA,CAAAyB,CAAA,SAAAD,IAAA,CAAAf,EAAA;OAElB,CAAAkB,kBAAA,CAAW,OAAE;MAAAL,KAAA,EAAAC,cAAA,CAAAC,IAAA,CAAAxB,EAAA,CAAA6B,EAAA;OACX,CAAAW,UAAA,CAAAhB,IAAA,CAAAiB,MAAA,a,WARcU,UAAA,KAAAC,KAAA,EAAA5B,IAAA,CAAAd,QAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}