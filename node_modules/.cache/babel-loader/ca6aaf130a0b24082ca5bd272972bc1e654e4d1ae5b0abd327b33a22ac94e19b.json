{"ast":null,"code":"import { defineComponent, inject, resolveComponent, openBlock, createElementBlock, Fragment, mergeProps, createCommentVNode, createElementVNode, createBlock, withCtx, resolveDynamicComponent, renderSlot } from 'vue';\nimport '../../roving-focus-group/index.mjs';\nimport '../../collection/index.mjs';\nimport { TwIcon } from '../../icon/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../constants/index.mjs';\nimport { dropdownItemProps, DROPDOWN_COLLECTION_ITEM_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY } from './dropdown.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY as COLLECTION_ITEM_INJECTION_KEY$1 } from '../../roving-focus-group/src/roving-focus-group2.mjs';\nimport { ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY } from '../../roving-focus-group/src/tokens.mjs';\nimport { composeRefs } from '../../../utils/vue/refs.mjs';\nimport { composeEventHandlers } from '../../../utils/dom/event.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\nimport { COLLECTION_ITEM_SIGN } from '../../collection/src/collection.mjs';\nconst _sfc_main = defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    TwIcon\n  },\n  props: dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\"],\n  setup(_, {\n    emit\n  }) {\n    const ns = useNamespace(\"dropdown\");\n    const {\n      collectionItemRef: dropdownCollectionItemRef\n    } = inject(COLLECTION_ITEM_INJECTION_KEY, void 0);\n    const {\n      collectionItemRef: rovingFocusCollectionItemRef\n    } = inject(COLLECTION_ITEM_INJECTION_KEY$1, void 0);\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0);\n    const itemRef = composeRefs(dropdownCollectionItemRef, rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    const handleKeydown = composeEventHandlers(e => {\n      const {\n        code\n      } = e;\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"click\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: \"\"\n      },\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-disabled\", \"tabindex\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  return openBlock(), createElementBlock(Fragment, null, [_ctx.divided ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 0,\n    class: _ctx.ns.bem(\"menu\", \"item\", \"divided\")\n  }, _ctx.$attrs), null, 16)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", mergeProps({\n    ref: _ctx.itemRef\n  }, {\n    ..._ctx.dataset,\n    ..._ctx.$attrs\n  }, {\n    \"aria-disabled\": _ctx.disabled,\n    class: [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: \"menuitem\",\n    onClick: _cache[0] || (_cache[0] = e => _ctx.$emit(\"click\", e)),\n    onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n    onKeydown: _cache[2] || (_cache[2] = (...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args)),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.handleMousedown && _ctx.handleMousedown(...args)),\n    onPointermove: _cache[4] || (_cache[4] = e => _ctx.$emit(\"pointermove\", e)),\n    onPointerleave: _cache[5] || (_cache[5] = e => _ctx.$emit(\"pointerleave\", e))\n  }), [_ctx.icon ? (openBlock(), createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    default: withCtx(() => [(openBlock(), createBlock(resolveDynamicComponent(_ctx.icon)))]),\n    _: 1\n  })) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")], 16, _hoisted_1)], 64);\n}\nvar TwDropdownItemImpl = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { TwDropdownItemImpl as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","TwIcon","props","dropdownItemProps","emits","setup","_","emit","ns","useNamespace","collectionItemRef","dropdownCollectionItemRef","inject","COLLECTION_ITEM_INJECTION_KEY","rovingFocusCollectionItemRef","COLLECTION_ITEM_INJECTION_KEY$1","rovingFocusGroupItemRef","tabIndex","handleFocus","handleKeydown","handleItemKeydown","handleMousedown","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","itemRef","composeRefs","composeEventHandlers","e","code","EVENT_CODE","enter","space","preventDefault","stopImmediatePropagation","dataset","COLLECTION_ITEM_SIGN","openBlock","createElementBlock","Fragment","_ctx","divided","mergeProps","key","class","bem","$attrs","createCommentVNode","createElementVNode","ref","disabled","be","is","tabindex","role","onClick","_cache","$emit","onFocus","args","onKeydown","onMousedown","onPointermove","onPointerleave","icon","createBlock","_component_el_icon","default","withCtx","resolveDynamicComponent","renderSlot","$slots"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"divided\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n    v-bind=\"$attrs\"\n  ></div>\n  <div\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    role=\"menuitem\"\n    @click=\"(e) => $emit('click', e)\"\n    @focus=\"handleFocus\"\n    @keydown=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon\"><component :is=\"icon\" /></el-icon>\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@tw-element/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@tw-element/components/collection'\nimport { TwIcon } from '@tw-element/components/icon'\nimport { useNamespace } from '@tw-element/hooks'\nimport { composeEventHandlers, composeRefs } from '@tw-element/utils'\nimport { EVENT_CODE } from '@tw-element/constants'\nimport {\n  DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n  dropdownItemProps,\n} from './dropdown'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    TwIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { collectionItemRef: dropdownCollectionItemRef } = inject(\n      DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n      undefined\n    )!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      dropdownCollectionItemRef,\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      const { code } = e\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('click', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}