{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const statuses = {\n  IDLE: 'idle',\n  ERROR: 'error',\n  loading: 'loading'\n};\nexport const fetchProducts = createAsyncThunk('users/fetchByIdStatus', async (userId, thunkAPI) => {\n  const res = await fetch('https://api.escuelajs.co/api/v1/products');\n  const data = await res.json();\n  console.log(data);\n  return data;\n});\nconst productSlice = createSlice({\n  name: 'products',\n  initialState: {\n    data: [],\n    status: statuses.IDLE\n  },\n  reducers: {},\n  // extraReducers: (builder) => {\n  //     // Add reducers for additional action types here, and handle loading state as needed\n  //     builder.addCase(fetchProducts.fulfilled, (state, action) => {\n  //       // Add user to the state array\n  //       state.entities.push(action.payload)\n  //     })\n  //   },\n  extraReducers: builder => {\n    builder.addCase(fetchProducts.pending, (state, action) => {\n      state.status = statuses.loading;\n    }).addCase(fetchProducts.fulfilled, (state, action) => {\n      state.data = action.payload;\n      state.status = statuses.IDLE;\n    }).addCase(fetchProducts.rejected, (state, action) => {\n      state.status = statuses.ERROR;\n    });\n  }\n});\nexport const {\n  setProducts,\n  setStatus\n} = productSlice.actions;\nexport default productSlice.reducer;\n\n// export const fetchProducts = createAsyncThunk('products/fetch',\n// async()=>{\n\n// });","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","statuses","IDLE","ERROR","loading","fetchProducts","userId","thunkAPI","res","fetch","data","json","console","log","productSlice","name","initialState","status","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","rejected","setProducts","setStatus","actions","reducer"],"sources":["/home/bonami/Desktop/Projects/ECommerce/src/rtkdemo/features/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const statuses ={\n    IDLE:'idle',\n    ERROR:'error',\n    loading:'loading'\n}\nexport const fetchProducts = createAsyncThunk(\n    'users/fetchByIdStatus',\n    async (userId, thunkAPI) => {\n      \n        const res = await fetch('https://api.escuelajs.co/api/v1/products');\n      \n        const data = await res.json();\n        console.log(data);\n        return data;\n    }\n  )\nconst productSlice = createSlice({\n    name:'products',\n    initialState :{\n        data:[],\n        status:statuses.IDLE\n    },\n    reducers:{\n    \n    },\n    // extraReducers: (builder) => {\n    //     // Add reducers for additional action types here, and handle loading state as needed\n    //     builder.addCase(fetchProducts.fulfilled, (state, action) => {\n    //       // Add user to the state array\n    //       state.entities.push(action.payload)\n    //     })\n    //   },\n    extraReducers:(builder)=>{\n        builder\n        .addCase(fetchProducts.pending,(state,action)=>{\n            state.status = statuses.loading\n        })\n        .addCase(fetchProducts.fulfilled,(state,action)=>{\n            state.data=action.payload;\n            state.status =statuses.IDLE;\n        })\n        .addCase(fetchProducts.rejected,(state,action)=>{\n            state.status = statuses.ERROR\n        })\n    }\n});\nexport const {setProducts,setStatus}= productSlice.actions;\nexport default productSlice.reducer\n\n// export const fetchProducts = createAsyncThunk('products/fetch',\n// async()=>{\n   \n// });  "],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,MAAMC,QAAQ,GAAE;EACnBC,IAAI,EAAC,MAAM;EACXC,KAAK,EAAC,OAAO;EACbC,OAAO,EAAC;AACZ,CAAC;AACD,OAAO,MAAMC,aAAa,GAAGP,gBAAgB,CACzC,uBAAuB,EACvB,OAAOQ,MAAM,EAAEC,QAAQ,KAAK;EAExB,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,0CAA0C,CAAC;EAEnE,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;EAC7BC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjB,OAAOA,IAAI;AACf,CACF,CAAC;AACH,MAAMI,YAAY,GAAGf,WAAW,CAAC;EAC7BgB,IAAI,EAAC,UAAU;EACfC,YAAY,EAAE;IACVN,IAAI,EAAC,EAAE;IACPO,MAAM,EAAChB,QAAQ,CAACC;EACpB,CAAC;EACDgB,QAAQ,EAAC,CAET,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,aAAa,EAAEC,OAAO,IAAG;IACrBA,OAAO,CACNC,OAAO,CAAChB,aAAa,CAACiB,OAAO,EAAC,CAACC,KAAK,EAACC,MAAM,KAAG;MAC3CD,KAAK,CAACN,MAAM,GAAGhB,QAAQ,CAACG,OAAO;IACnC,CAAC,CAAC,CACDiB,OAAO,CAAChB,aAAa,CAACoB,SAAS,EAAC,CAACF,KAAK,EAACC,MAAM,KAAG;MAC7CD,KAAK,CAACb,IAAI,GAACc,MAAM,CAACE,OAAO;MACzBH,KAAK,CAACN,MAAM,GAAEhB,QAAQ,CAACC,IAAI;IAC/B,CAAC,CAAC,CACDmB,OAAO,CAAChB,aAAa,CAACsB,QAAQ,EAAC,CAACJ,KAAK,EAACC,MAAM,KAAG;MAC5CD,KAAK,CAACN,MAAM,GAAGhB,QAAQ,CAACE,KAAK;IACjC,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF,OAAO,MAAM;EAACyB,WAAW;EAACC;AAAS,CAAC,GAAEf,YAAY,CAACgB,OAAO;AAC1D,eAAehB,YAAY,CAACiB,OAAO;;AAEnC;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}