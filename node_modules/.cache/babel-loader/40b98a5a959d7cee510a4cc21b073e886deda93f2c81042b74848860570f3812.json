{"ast":null,"code":"import { isClient } from '@vueuse/core';\nimport '../../../utils/index.mjs';\nimport { off, on } from '../../../utils/dom/event.mjs';\nlet isDragging = false;\nfunction draggable(element, options) {\n  if (!isClient) return;\n  const moveFn = function (event) {\n    var _a;\n    (_a = options.drag) == null ? void 0 : _a.call(options, event);\n  };\n  const upFn = function (event) {\n    var _a;\n    off(document, \"mousemove\", moveFn);\n    off(document, \"mouseup\", upFn);\n    off(document, \"touchmove\", moveFn);\n    off(document, \"touchend\", upFn);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    isDragging = false;\n    (_a = options.end) == null ? void 0 : _a.call(options, event);\n  };\n  const downFn = function (event) {\n    var _a;\n    if (isDragging) return;\n    event.preventDefault();\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n    on(document, \"mousemove\", moveFn);\n    on(document, \"mouseup\", upFn);\n    on(document, \"touchmove\", moveFn);\n    on(document, \"touchend\", upFn);\n    isDragging = true;\n    (_a = options.start) == null ? void 0 : _a.call(options, event);\n  };\n  on(element, \"mousedown\", downFn);\n  on(element, \"touchstart\", downFn);\n}\nexport { draggable as default };","map":{"version":3,"names":["isDragging","draggable","element","options","isClient","moveFn","event","_a","drag","call","upFn","off","document","onselectstart","ondragstart","end","downFn","preventDefault","on","start"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/color-picker/src/draggable.ts"],"sourcesContent":["import { isClient } from '@vueuse/core'\nimport { on, off } from '@tw-element/utils'\n\nlet isDragging = false\n\nexport declare interface IOptions {\n  drag?: (event: Event) => void\n  start?: (event: Event) => void\n  end?: (event: Event) => void\n}\n\nexport default function (element: HTMLElement, options: IOptions) {\n  if (!isClient) return\n\n  const moveFn = function (event: Event) {\n    options.drag?.(event)\n  }\n\n  const upFn = function (event: Event) {\n    off(document, 'mousemove', moveFn)\n    off(document, 'mouseup', upFn)\n    off(document, 'touchmove', moveFn)\n    off(document, 'touchend', upFn)\n    document.onselectstart = null\n    document.ondragstart = null\n\n    isDragging = false\n\n    options.end?.(event)\n  }\n\n  const downFn = function (event: Event) {\n    if (isDragging) return\n    event.preventDefault()\n    document.onselectstart = () => false\n    document.ondragstart = () => false\n    on(document, 'mousemove', moveFn)\n    on(document, 'mouseup', upFn)\n    on(document, 'touchmove', moveFn)\n    on(document, 'touchend', upFn)\n\n    isDragging = true\n\n    options.start?.(event)\n  }\n\n  on(element, 'mousedown', downFn)\n  on(element, 'touchstart', downFn)\n}\n"],"mappings":";;;AAEA,IAAIA,UAAU,GAAG,KAAK;AACP,SAAAC,SAAQA,CAACC,OAAO,EAAEC,OAAO,EAAE;EACxC,IAAI,CAACC,QAAQ,EACX;EACF,MAAMC,MAAM,GAAG,SAAAA,CAASC,KAAK,EAAE;IAC7B,IAAIC,EAAE;IACN,CAACA,EAAE,GAAGJ,OAAO,CAACK,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,EAAE,CAACE,IAAI,CAACN,OAAO,EAAEG,KAAK,CAAC;EAClE,CAAG;EACD,MAAMI,IAAI,GAAG,SAAAA,CAASJ,KAAK,EAAE;IAC3B,IAAIC,EAAE;IACNI,GAAG,CAACC,QAAQ,EAAE,WAAW,EAAEP,MAAM,CAAC;IAClCM,GAAG,CAACC,QAAQ,EAAE,SAAS,EAAEF,IAAI,CAAC;IAC9BC,GAAG,CAACC,QAAQ,EAAE,WAAW,EAAEP,MAAM,CAAC;IAClCM,GAAG,CAACC,QAAQ,EAAE,UAAU,EAAEF,IAAI,CAAC;IAC/BE,QAAQ,CAACC,aAAa,GAAG,IAAI;IAC7BD,QAAQ,CAACE,WAAW,GAAG,IAAI;IAC3Bd,UAAU,GAAG,KAAK;IAClB,CAACO,EAAE,GAAGJ,OAAO,CAACY,GAAG,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGR,EAAE,CAACE,IAAI,CAACN,OAAO,EAAEG,KAAK,CAAC;EACjE,CAAG;EACD,MAAMU,MAAM,GAAG,SAAAA,CAASV,KAAK,EAAE;IAC7B,IAAIC,EAAE;IACN,IAAIP,UAAU,EACZ;IACFM,KAAK,CAACW,cAAc,EAAE;IACtBL,QAAQ,CAACC,aAAa,GAAG,MAAM,KAAK;IACpCD,QAAQ,CAACE,WAAW,GAAG,MAAM,KAAK;IAClCI,EAAE,CAACN,QAAQ,EAAE,WAAW,EAAEP,MAAM,CAAC;IACjCa,EAAE,CAACN,QAAQ,EAAE,SAAS,EAAEF,IAAI,CAAC;IAC7BQ,EAAE,CAACN,QAAQ,EAAE,WAAW,EAAEP,MAAM,CAAC;IACjCa,EAAE,CAACN,QAAQ,EAAE,UAAU,EAAEF,IAAI,CAAC;IAC9BV,UAAU,GAAG,IAAI;IACjB,CAACO,EAAE,GAAGJ,OAAO,CAACgB,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGZ,EAAE,CAACE,IAAI,CAACN,OAAO,EAAEG,KAAK,CAAC;EACnE,CAAG;EACDY,EAAE,CAAChB,OAAO,EAAE,WAAW,EAAEc,MAAM,CAAC;EAChCE,EAAE,CAAChB,OAAO,EAAE,YAAY,EAAEc,MAAM,CAAC;AACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}