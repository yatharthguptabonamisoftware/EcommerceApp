{"ast":null,"code":"import { defineComponent, reactive, toRefs, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, withKeys, withModifiers, createVNode, withCtx, createElementVNode, toDisplayString } from 'vue';\nimport { TwTooltip } from '../../tooltip/index.mjs';\nimport '../../../constants/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { useSliderButton } from './useSliderButton.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst _sfc_main = defineComponent({\n  name: \"TwSliderButton\",\n  components: {\n    ElTooltip: TwTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup(props, {\n    emit\n  }) {\n    const ns = useNamespace(\"slider\");\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const {\n      hovering,\n      dragging\n    } = toRefs(initData);\n    return {\n      ns,\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"button\",\n    class: normalizeClass([_ctx.ns.e(\"button-wrapper\"), {\n      hover: _ctx.hovering,\n      dragging: _ctx.dragging\n    }]),\n    style: normalizeStyle(_ctx.wrapperStyle),\n    tabindex: \"0\",\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onTouchstart: _cache[4] || (_cache[4] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onFocus: _cache[5] || (_cache[5] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onBlur: _cache[6] || (_cache[6] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onKeydown: [_cache[7] || (_cache[7] = withKeys((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"left\"])), _cache[8] || (_cache[8] = withKeys((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"right\"])), _cache[9] || (_cache[9] = withKeys(withModifiers((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"prevent\"]), [\"down\"])), _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"prevent\"]), [\"up\"]))]\n  }, [createVNode(_component_el_tooltip, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[0] || (_cache[0] = $event => _ctx.tooltipVisible = $event),\n    placement: \"top\",\n    \"stop-popper-mouse-event\": false,\n    \"popper-class\": _ctx.tooltipClass,\n    disabled: !_ctx.showTooltip,\n    persistent: \"\"\n  }, {\n    content: withCtx(() => [createElementVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)]),\n    default: withCtx(() => [createElementVNode(\"div\", {\n      class: normalizeClass([_ctx.ns.e(\"button\"), {\n        hover: _ctx.hovering,\n        dragging: _ctx.dragging\n      }])\n    }, null, 2)]),\n    _: 1\n  }, 8, [\"visible\", \"popper-class\", \"disabled\"])], 38);\n}\nvar SliderButton = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { SliderButton as default };","map":{"version":3,"names":["_sfc_main","defineComponent","name","components","ElTooltip","TwTooltip","props","modelValue","type","Number","default","vertical","Boolean","tooltipClass","String","emits","UPDATE_MODEL_EVENT","setup","emit","ns","useNamespace","initData","reactive","hovering","dragging","isClick","startX","currentX","startY","currentY","startPosition","newPosition","oldValue","tooltip","showTooltip","tooltipVisible","wrapperStyle","formatValue","handleMouseEnter","handleMouseLeave","onButtonDown","onLeftKeyDown","onRightKeyDown","setPosition","useSliderButton","toRefs","openBlock","createElementBlock","ref","class","normalizeClass","_ctx","e","hover","style","normalizeStyle","tabindex","onMouseenter","_cache","args","onMouseleave","onMousedown","onTouchstart","onFocus","onBlur","onKeydown","withKeys","withModifiers","createVNode","_component_el_tooltip","visible","$event","placement","disabled","persistent","content","withCtx","createElementVNode","toDisplayString"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/slider/src/button.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"button\"\n    :class=\"[ns.e('button-wrapper'), { hover: hovering, dragging }]\"\n    :style=\"wrapperStyle\"\n    tabindex=\"0\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n    @mousedown=\"onButtonDown\"\n    @touchstart=\"onButtonDown\"\n    @focus=\"handleMouseEnter\"\n    @blur=\"handleMouseLeave\"\n    @keydown.left=\"onLeftKeyDown\"\n    @keydown.right=\"onRightKeyDown\"\n    @keydown.down.prevent=\"onLeftKeyDown\"\n    @keydown.up.prevent=\"onRightKeyDown\"\n  >\n    <el-tooltip\n      ref=\"tooltip\"\n      v-model:visible=\"tooltipVisible\"\n      placement=\"top\"\n      :stop-popper-mouse-event=\"false\"\n      :popper-class=\"tooltipClass\"\n      :disabled=\"!showTooltip\"\n      persistent\n    >\n      <template #content>\n        <span>{{ formatValue }}</span>\n      </template>\n      <div :class=\"[ns.e('button'), { hover: hovering, dragging }]\"></div>\n    </el-tooltip>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue'\nimport ElTooltip from '@tw-element/components/tooltip'\nimport { UPDATE_MODEL_EVENT } from '@tw-element/constants'\nimport { useNamespace } from '@tw-element/hooks'\nimport { useSliderButton } from './useSliderButton'\n\nexport default defineComponent({\n  name: 'TwSliderButton',\n\n  components: {\n    ElTooltip,\n  },\n\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    tooltipClass: {\n      type: String,\n      default: '',\n    },\n  },\n\n  emits: [UPDATE_MODEL_EVENT],\n\n  setup(props, { emit }) {\n    const ns = useNamespace('slider')\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue,\n    })\n\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n    } = useSliderButton(props, initData, emit)\n\n    const { hovering, dragging } = toRefs(initData)\n\n    return {\n      ns,\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n\n      hovering,\n      dragging,\n    }\n  },\n})\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}