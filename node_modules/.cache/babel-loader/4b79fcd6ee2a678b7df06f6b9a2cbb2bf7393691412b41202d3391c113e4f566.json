{"ast":null,"code":"import { defineComponent, ref, computed, unref, resolveComponent, openBlock, createBlock, mergeProps, withCtx, createElementBlock, normalizeClass, toDisplayString, createCommentVNode, renderSlot, createTextVNode } from 'vue';\nimport { TwTooltip } from '../../tooltip/index.mjs';\nimport '../../popper/index.mjs';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { usePopoverProps } from './popover.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { isString } from '@vue/shared';\nimport { useDeprecateAppendToBody } from '../../popper/src/deprecation.mjs';\nconst emits = [\"update:visible\", \"after-enter\", \"after-leave\"];\nconst COMPONENT_NAME = \"ElPopover\";\nconst _sfc_main = defineComponent({\n  name: COMPONENT_NAME,\n  components: {\n    ElTooltip: TwTooltip\n  },\n  props: usePopoverProps,\n  emits,\n  setup(props, {\n    emit\n  }) {\n    const ns = useNamespace(\"popover\");\n    const tooltipRef = ref(null);\n    const popperRef = computed(() => {\n      var _a;\n      return (_a = unref(tooltipRef)) == null ? void 0 : _a.popperRef;\n    });\n    const width = computed(() => {\n      if (isString(props.width)) {\n        return props.width;\n      }\n      return `${props.width}px`;\n    });\n    const style = computed(() => {\n      return [{\n        width: width.value\n      }, props.popperStyle];\n    });\n    const kls = computed(() => {\n      return [ns.b(), props.popperClass, {\n        [ns.m(\"plain\")]: !!props.content\n      }];\n    });\n    const {\n      compatTeleported\n    } = useDeprecateAppendToBody(COMPONENT_NAME, \"appendToBody\");\n    const hide = () => {\n      var _a;\n      (_a = tooltipRef.value) == null ? void 0 : _a.hide();\n    };\n    const afterEnter = () => {\n      emit(\"after-enter\");\n    };\n    const afterLeave = () => {\n      emit(\"after-leave\");\n    };\n    return {\n      compatTeleported,\n      ns,\n      kls,\n      style,\n      tooltipRef,\n      popperRef,\n      hide,\n      afterEnter,\n      afterLeave\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createBlock(_component_el_tooltip, mergeProps({\n    ref: \"tooltipRef\"\n  }, _ctx.$attrs, {\n    trigger: _ctx.trigger,\n    placement: _ctx.placement,\n    disabled: _ctx.disabled,\n    visible: _ctx.visible,\n    transition: _ctx.transition,\n    \"popper-options\": _ctx.popperOptions,\n    tabindex: _ctx.tabindex,\n    \"append-to-body\": _ctx.appendToBody,\n    content: _ctx.content,\n    offset: _ctx.offset,\n    \"show-after\": _ctx.showAfter,\n    \"hide-after\": _ctx.hideAfter,\n    \"auto-close\": _ctx.autoClose,\n    \"show-arrow\": _ctx.showArrow,\n    \"aria-label\": _ctx.title,\n    effect: _ctx.effect,\n    enterable: _ctx.enterable,\n    \"popper-class\": _ctx.kls,\n    \"popper-style\": _ctx.style,\n    teleported: _ctx.compatTeleported,\n    persistent: \"\",\n    onShow: _ctx.afterEnter,\n    onHide: _ctx.afterLeave\n  }), {\n    content: withCtx(() => [_ctx.title ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: normalizeClass(_ctx.ns.e(\"title\")),\n      role: \"title\"\n    }, toDisplayString(_ctx.title), 3)) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\", {}, () => [createTextVNode(toDisplayString(_ctx.content), 1)])]),\n    default: withCtx(() => [_ctx.$slots.reference ? renderSlot(_ctx.$slots, \"reference\", {\n      key: 0\n    }) : createCommentVNode(\"v-if\", true)]),\n    _: 3\n  }, 16, [\"trigger\", \"placement\", \"disabled\", \"visible\", \"transition\", \"popper-options\", \"tabindex\", \"append-to-body\", \"content\", \"offset\", \"show-after\", \"hide-after\", \"auto-close\", \"show-arrow\", \"aria-label\", \"effect\", \"enterable\", \"popper-class\", \"popper-style\", \"teleported\", \"onShow\", \"onHide\"]);\n}\nvar Popover = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { Popover as default };","map":{"version":3,"names":["emits","COMPONENT_NAME","_sfc_main","defineComponent","name","components","ElTooltip","TwTooltip","props","usePopoverProps","setup","emit","ns","useNamespace","tooltipRef","ref","popperRef","computed","_a","unref","width","isString","style","value","popperStyle","kls","b","popperClass","m","content","compatTeleported","useDeprecateAppendToBody","hide","afterEnter","afterLeave","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_el_tooltip","resolveComponent","openBlock","createBlock","mergeProps","$attrs","trigger","placement","disabled","visible","transition","popperOptions","tabindex","appendToBody","offset","showAfter","hideAfter","autoClose","showArrow","title","effect","enterable","teleported","persistent","onHide","withCtx","createElementBlock","key","role","toDisplayString","createCommentVNode"],"sources":["/home/bonami/Desktop/Projects/ECommerce/packages/components/popover/src/index.vue"],"sourcesContent":["<template>\n  <el-tooltip\n    ref=\"tooltipRef\"\n    v-bind=\"$attrs\"\n    :trigger=\"trigger\"\n    :placement=\"placement\"\n    :disabled=\"disabled\"\n    :visible=\"visible\"\n    :transition=\"transition\"\n    :popper-options=\"popperOptions\"\n    :tabindex=\"tabindex\"\n    :append-to-body=\"appendToBody\"\n    :content=\"content\"\n    :offset=\"offset\"\n    :show-after=\"showAfter\"\n    :hide-after=\"hideAfter\"\n    :auto-close=\"autoClose\"\n    :show-arrow=\"showArrow\"\n    :aria-label=\"title\"\n    :effect=\"effect\"\n    :enterable=\"enterable\"\n    :popper-class=\"kls\"\n    :popper-style=\"style\"\n    :teleported=\"compatTeleported\"\n    persistent\n    @show=\"afterEnter\"\n    @hide=\"afterLeave\"\n  >\n    <template v-if=\"$slots.reference\">\n      <slot name=\"reference\" />\n    </template>\n\n    <template #content>\n      <div v-if=\"title\" :class=\"ns.e('title')\" role=\"title\">\n        {{ title }}\n      </div>\n      <slot>\n        {{ content }}\n      </slot>\n    </template>\n  </el-tooltip>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, unref } from 'vue'\nimport ElTooltip from '@tw-element/components/tooltip'\nimport { useDeprecateAppendToBody } from '@tw-element/components/popper'\nimport { isString } from '@tw-element/utils'\nimport { useNamespace } from '@tw-element/hooks'\nimport { usePopoverProps } from './popover'\n\nimport type { StyleValue } from 'vue'\n\nconst emits = ['update:visible', 'after-enter', 'after-leave']\n\nconst COMPONENT_NAME = 'ElPopover'\n\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  components: {\n    ElTooltip,\n  },\n  props: usePopoverProps,\n  emits,\n  setup(props, { emit }) {\n    const ns = useNamespace('popover')\n    const tooltipRef = ref<InstanceType<typeof ElTooltip> | null>(null)\n    const popperRef = computed(() => {\n      return unref(tooltipRef)?.popperRef\n    })\n    const width = computed(() => {\n      if (isString(props.width)) {\n        return props.width as string\n      }\n      return `${props.width}px`\n    })\n\n    const style = computed(() => {\n      return [\n        {\n          width: width.value,\n        },\n        props.popperStyle,\n      ] as StyleValue\n    })\n\n    const kls = computed(() => {\n      return [ns.b(), props.popperClass, { [ns.m('plain')]: !!props.content }]\n    })\n\n    const { compatTeleported } = useDeprecateAppendToBody(\n      COMPONENT_NAME,\n      'appendToBody'\n    )\n\n    const hide = () => {\n      tooltipRef.value?.hide()\n    }\n\n    const afterEnter = () => {\n      emit('after-enter')\n    }\n\n    const afterLeave = () => {\n      emit('after-leave')\n    }\n\n    return {\n      compatTeleported,\n      ns,\n      kls,\n      style,\n      tooltipRef,\n      popperRef,\n      hide,\n      afterEnter,\n      afterLeave,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;;;;;AAoDA,MAAMA,KAAA,GAAQ,CAAC,kBAAkB,eAAe;AAEhD,MAAMC,cAAA,GAAiB;AAEvB,MAAKC,SAAA,GAAaC,eAAA,CAAa;EAC7BC,IAAA,EAAMH,cAAA;EACNI,UAAA,EAAY;IAAAC,SAAA,EACVC;EAAA;EAEFC,KAAA,EAAOC,eAAA;EACPT,KAAA;EACAU,MAAMF,KAAA,EAAO;IAAEG;EAAA,GAAQ;IACrB,MAAMC,EAAA,GAAKC,YAAA,CAAa;IACxB,MAAMC,UAAA,GAAaC,GAAA,CAA2C;IAC9D,MAAMC,SAAA,GAAYC,QAAA,CAAS,MAAM;MAC/B,IAAAC,EAAA;MAA0B,QAAAA,EAAA,GAAAC,KAAA,CAAAL,UAAA,sBAAAI,EAAA,CAAAF,SAAA;IAE5B;IACE,MAAII,KAAA,GAAAH,QAAA,OAAuB;MACzB,IAAAI,QAAA,CAAAb,KAAA,CAAAY,KAAA;QAAa,OAAAZ,KAAA,CAAAY,KAAA;MAEf;MAAgB,UAAAZ,KAAA,CAAAY,KAAA;IAGlB;IACE,MAAAE,KAAA,GAAAL,QAAA;MAAO,QACL;QACeG,KAAA,EAAAA,KAAA,CAAAG;MAAA,GAETf,KAAA,CAAAgB,WAAA;IAIV;IACE,MAAAC,GAAO,GAAAR,QAAA;MAAuD,QAAAL,EAAA,CAAAc,CAAA,IAAAlB,KAAA,CAAAmB,WAAA;QAAA,CAAAf,EAAA,CAAAgB,CAAA,cAAApB,KAAA,CAAAqB;MAAA;IAGhE;IAKA,MAAM;MAAAC;IAAA,IAAAC,wBAAA,CAAA9B,cAAA;IACJ,MAAA+B,IAAA,GAAWA,CAAA;MAAO,IAAAd,EAAA;MAGpB,CAAAA,EAAA,GAAAJ,UAAA,CAAmBS,KAAA,qBAAAL,EAAA,CAAAc,IAAA;IACjB;IAAK,MAAAC,UAAA,GAAAA,CAAA;MAGPtB,IAAM;IACJ;IAAK,MAAAuB,UAAA,GAAAA,CAAA;MAGPvB,IAAA,CAAO;IAAA;IACL;MAEAmB,gBAAA;MACAlB,EAAA;MACAa,GAAA;MACAH,KAAA;MACAR,UAAA;MACAE,SAAA;MACAgB,IAAA;MAAAC,UAAA;MAAAC;IAAA;;;SA/GDC,YAAAC,IAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,QAAA;EAAgB,MAAAC,qBAAA,GAAAC,gBAAA;EACL,OAAAC,SAAA,IAAAC,WAAA,CAAAH,qBAAA,EAAAI,UAAA;IAAA/B,GAAA;EAAA,GAAAqB,IAAA,CAAAW,MAAA;IAEXC,OAAA,EAAAZ,IAAA,CAAAY,OAAA;IACAC,SAAA,EAAAb,IAAA,CAAAa,SAAA;IACAC,QAAA,EAAAd,IAAA,CAAAc,QAAA;IACAC,OAAA,EAAAf,IAAA,CAAAe,OAAA;IACAC,UAAA,EAAAhB,IAAA,CAAAgB,UAAA;IACA,kBAAShB,IAAA,CAAOiB,aAAA;IAChBC,QAAA,EAAAlB,IAAA,CAAAkB,QAAA;IACA,kBAAAlB,IAAA,CAAAmB,YAAA;IACA1B,OAAA,EAAAO,IAAA,CAAYP,OAAA;IACZ2B,MAAA,EAAApB,IAAA,CAAAoB,MAAA;IACA,cAAYpB,IAAA,CAAAqB,SAAA;IACZ,cAAYrB,IAAA,CAAAsB,SAAA;IACZ,cAAQtB,IAAA,CAAMuB,SAAA;IACd,cAAAvB,IAAA,CAAAwB,SAAA;IACA,cAAAxB,IAAA,CAAAyB,KAAA;IACAC,MAAA,EAAA1B,IAAA,CAAA0B,MAAA;IACAC,SAAA,EAAA3B,IAAA,CAAY2B,SAAA;IACb,gBAAA3B,IAAA,CAAAX,GAAA;IACC,gBAAAW,IAAA,CAAAd,KAAA;IACA0C,UAAA,EAAA5B,IAAA,CAAAN,gBAAA;IAAMmC,UAAA;;IAMIC,MAAA,EAAA9B,IAAA,CAAAF;EACO;aAAQiC,OAAA,QAAA/B,IAAA,CAAAyB,KAAA,IAAAjB,SAAA,IAAAwB,kBAAA;MAA6BC,GAAA;;MAK9CC,IAAA;IADF,GAAAC,eAAA,CAAAnC,IAAA,CAAAyB,KAAA,SAAAW,kBAAA,gB,kGATyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}